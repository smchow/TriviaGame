<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <title>Trivia Game</title>
      <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    
      <!-- Added a link to Bootstrap-->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
      <link rel="stylesheet" type="text/css" href="assets/css/style.css">
  </head>
  <body>
       <div class="container">
       <div><h1>Trivia Game</h1>
         <div class="row">
           <div class="text-center">
              <div class="col-md-12">
                  <div id="show-number">15 seconds remaining</div>
                  <div id="gameStatus" class="text-center">Wins = 0 <br/> Losses = 0</div>
              </div>
            </div>
          </div>
          
          <div class="row myBox" >
            <div class="col-md-12Row myBtn"> 
              <button id="chkButton" class="btn btn-primary btn-xs ">Check Answer</button>
            </div>
            <div class="col-md-6">
                <div id="details" class="dotBorder">  </div>
            </div>
            <div class="col-md-6">
                <div class="text-center">  
                  <div id="display" class="dotBorder"></div>
                </div>
            </div>
          </div>
        </div>
    
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.js"></script>
	<script type="text/javascript" src="assets/javascript/app.js"></script>
  <script type="text/javascript" >
   	

    // You'll create a trivia form with multiple choice or true/false options (your choice).

    // The player will have a limited amount of time to finish the quiz.
    //     The game ends when the time runs out. The page will reveal the number of questions that players answer correctly and incorrectly.

    // Don't let the player pick more than one answer per question.

    // Don't forget to include a countdown timer.



    // You'll create a trivia game that shows only one question until the player answers it or their time runs out.

    // If the player selects the correct answer, show a screen congratulating them for choosing the right option. After a few seconds, display the next question -- do this without user input.

    // The scenario is similar for wrong answers and time-outs.
    //     If the player runs out of time, tell the player that time's up and display the correct answer. Wait a few seconds, then show the next question.
    //     If the player chooses the wrong answer, tell the player they selected the wrong option and then display the correct answer. Wait a few seconds, then show the next question.

    // On the final screen, show the number of correct answers, incorrect answers, and an option to restart the game (without reloading the page).

    /*************************
      1) Start and keep track of total time
      2) While the timer is running display questions one at a time
      3) Once the user picks the answer and submits ---
          -Check if answer is correct
          - Update Correct and Wrong answer score
          - Display new question
      4)  Once the user answeres all questions or runs of time ... 
          - Say game over
          - Display final score



    *******************/




      var wins = 0;
      var losses = 0;
      var incorrect = 0;
      var ind =0;
      var display = $("#display");
      var status = document.querySelector("#gameStatus");
      var details = document.querySelector("#details");
      var displayT = document.querySelector("#displayTime");
      var won = false;
      var Tcounter = 15;
      var number = 30;
      var counter;


    $("#show-number").html("<h2>" + number + " seconds remaining </h2>");
     //  Execute the run function.
    run();

  
    function run() {
      counter = setInterval(decrement, 1000);
    }

    //  The decrement function.
    function decrement() {
      number--;
      $("#show-number").html("<h2>" + number + " seconds remaining </h2>");

      if (number === 0) {    
        stop();
        $("#show-number").append("<h2> Time Up! </h2>");
      }
    }

    //  The stop function
    function stop() {
      clearInterval(counter);
    }

      //var sci_ind = -1;
      display.innerHTML = "Welcome Welcome";
      
      //setInterval(myTimeoutFunction, 1000);
      
    
     /* function myTimeoutFunction(){
            console.log("counter - myTimeoutFunction" + Tcounter);

            displayT.innerHTML("00:"+ Tcounter);
            Tcounter--;
          }*/

      function myTimeoutFunctionTemp(ind){

        var trivia = getRandomName(ind);
        display.empty();
        var q = $("<div>").text(trivia.question);
        q.appendTo(display);
        var pos = Math.floor(Math.random()*3);
        //console.log(pos);
        for (var i = 0; i < 3 ; i++){
          
          //var radioBtn = $('<input type="radio" name="rbtnCount" />');
          

          console.log(i,pos);
          if(i==pos){
           // debugger; 
             var d = $("<div>");
            console.log(trivia.correct_answer );
            d.text( trivia.correct_answer );
            var radioBtn = $('<input type="radio" name="rbtnCount" />');
          radioBtn.appendTo(display);
          d.appendTo(display);
            
          }

            var d = $("<div>");
            d.text( trivia.incorrect_answers[i] );
            var radioBtn = $('<input type="radio" name="rbtnCount" />');
          radioBtn.appendTo(display);
          d.appendTo(display);
          
          
          
        }
        //display.innerHTML = text;
        //radioBtn.appendTo(display);
            
        
        //setInterval(someFunction, 4000);
      }

      function someFunction(){
        display.innerHTML = "Some Text";
      }
      //Start game when button is clicked;
      var x = document.getElementById("chkButton");
      x.addEventListener("click", function(){    
       /* var myScientist = getRandomName();
        document.getElementById("details").innerHTML = "";
        myScientist.playGame("");*/
        console.log("Remaining Time" + number);
        if (ind < 10 && number > 0){
          myTimeoutFunctionTemp(ind);
         
          
        } else{
          display.innerHTML = "Game Over";
        }
        ind++;

        
        // When user enters a letter play the game!
        /*document.onkeyup = function(event){
        if (myScientist.chkInput(event)){
          myScientist.playGame(event.key.toLowerCase());
          } 
        }*/
      });
    </script>
  </body>
</html>
